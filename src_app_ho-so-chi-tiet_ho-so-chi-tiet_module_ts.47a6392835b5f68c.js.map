{"version":3,"file":"src_app_ho-so-chi-tiet_ho-so-chi-tiet_module_ts.47a6392835b5f68c.js","mappings":"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","sources":["./src/app/ho-so-chi-tiet/ho-so-chi-tiet-routing.module.ts","./src/app/ho-so-chi-tiet/ho-so-chi-tiet.module.ts","./src/app/ho-so-chi-tiet/ho-so-chi-tiet.page.ts","./src/app/ho-so-chi-tiet/ho-so-chi-tiet.page.scss"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { HoSoChiTietPage } from './ho-so-chi-tiet.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: HoSoChiTietPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class HoSoChiTietPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { HoSoChiTietPageRoutingModule } from './ho-so-chi-tiet-routing.module';\r\n\r\nimport { HoSoChiTietPage } from './ho-so-chi-tiet.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    HoSoChiTietPageRoutingModule\r\n  ],\r\n  declarations: [HoSoChiTietPage]\r\n})\r\nexport class HoSoChiTietPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { NavigationExtras, Router } from '@angular/router';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { CAIDAT } from '../service/CAIDAT';\r\nimport { _HELPER } from '../service/CAIDAT_HELPER';\r\nimport { GetExcelDataService } from '../service/get-excel-data.service';\r\nimport { HOSO } from '../service/hoso.model';\r\nimport { HosoService } from '../service/hoso.service';\r\nimport { MenuTagsService } from '../service/menuTags/menu-tags.service';\r\nimport { ToastService } from '../service/toast-service.service';\r\ndeclare const document: any\r\ndeclare const navigator: any\r\n\r\n@Component({\r\n  selector: 'app-ho-so-chi-tiet',\r\n  templateUrl: './ho-so-chi-tiet.page.html',\r\n  styleUrls: ['./ho-so-chi-tiet.page.scss'],\r\n})\r\n\r\nexport class HoSoChiTietPage {\r\n  hoso!: HOSO;\r\n  loadinggetcolumns: boolean = false\r\n  loadinggetcolumns$: any\r\n  tagsList: Set<any> = new Set<string>();\r\n  shareValue!: string\r\n  isSharing = false\r\n  caidatgoc = CAIDAT\r\n  loadedLocalFile = false\r\n  loadedLocalFileArrayBuffer : ArrayBuffer = new ArrayBuffer(0)\r\n  homepage = window.location.origin\r\n  constructor(\r\n    private router: Router,\r\n    private hososervice: HosoService,\r\n    private getexcelservice: GetExcelDataService,\r\n    private tagsservice: MenuTagsService,\r\n    private alertController: AlertController,\r\n    public toastController: ToastService,\r\n  ) {\r\n    this.loadinggetcolumns$ = this.getexcelservice.loadinggetcolumns$.subscribe(re => {\r\n      this.loadinggetcolumns = re\r\n    })\r\n    this.tagsList = this.tagsservice.tagsList\r\n    // console.log(this.hososervice  )\r\n  }\r\n\r\n  mogooglesheet(link: string | undefined) {\r\n    window.open(link, '_blank');\r\n  }\r\n\r\n  loadLinkFromLocalFile() {\r\n    (document as any).getElementById(\"file-input-loadLinkFromLocalFile\").click();\r\n  }\r\n  loadLinkFromLocalFile_execute(_event: any) {\r\n    let file = _event.target.files[0]\r\n    console.log(_event)\r\n    if (file.name.substr(file.name.length - 5) == \".xlsx\") {\r\n      console.log(file)\r\n      this.hoso.linkFromLocalFile = file.name\r\n      file.arrayBuffer().then((re : ArrayBuffer) => {\r\n        this.loadedLocalFileArrayBuffer = re\r\n        this.loadedLocalFile = true\r\n        this.getexcelservice.getFileArrayBuffer(this.hoso, re)\r\n        // Reset lại input. Bug: (change) không đổi khi chọn lại cùng tên file\r\n        _event.srcElement.value = null\r\n      })\r\n    } else {\r\n      this.toastController.presentToast({message: \"Xin chọn tệp Excel (đuôi <b>*.xlsx</b>)\", color: 'danger', duration: 2000})\r\n    }\r\n  }\r\n  async saveChinhSua(hoso: HOSO, source: string) {\r\n    await this.hososervice.updateHoSo(this.hoso, source);\r\n    if ([CAIDAT.hoso.savebutton, CAIDAT.hoso.saveFromEditor].indexOf(source) !== -1) {\r\n\r\n      this.toastController.presentToast({\r\n        message: \"Đã lưu hồ sơ.\",\r\n        color: \"secondary\",\r\n        duration: 400,\r\n      })\r\n\r\n    } else if (source == CAIDAT.hoso.saveAfterLoadColumns) {\r\n      this.toastController.presentToast({\r\n        message: 'Đã tải dữ liệu cột (Sheet 1, hàng đầu tiên).',\r\n        duration: 1200,\r\n        color: \"secondary\"\r\n      })\r\n    }\r\n  }\r\n  async updateColumnsWithExcel() {\r\n    if (this.hoso.isFromLocalFile) {\r\n      // let x = await this.getexcelservice.getFileArrayBuffer(this.hoso)\r\n    } else {\r\n      let x = await this.getexcelservice.getExcelColumns(this.hoso)\r\n      // console.log(x)\r\n      this.saveChinhSua(this.hoso, CAIDAT.hoso.saveAfterLoadColumns)\r\n      // Trả về hồ sơ Đã edit cột\r\n    }\r\n  }\r\n  createAnkiForFile(){\r\n    this.getexcelservice.createAnkiFile(this.loadedLocalFileArrayBuffer, this.hoso)\r\n  }\r\n  openEditor() {\r\n    let nvget: NavigationExtras = {\r\n      state: {\r\n        hoso: this.hoso\r\n      },\r\n      skipLocationChange: true\r\n    }\r\n    // console.log(target)\r\n    // console.log(hoso)\r\n    // this.router.navigate(['/ho-so-chi-tiet'], nvget)\r\n    this.router.navigate(['/ho-so-editor'], nvget)\r\n  }\r\n  tagClick(tag: string) {\r\n    if (this.hoso.tags) {\r\n      if (this.hoso.tags.has(tag)) {\r\n        this.hoso.tags?.delete(tag);\r\n      } else {\r\n        this.hoso.tags.add(tag)\r\n      }\r\n    } else {\r\n      this.hoso.tags = new Set().add(tag)\r\n    }\r\n\r\n    this.saveChinhSua(this.hoso, CAIDAT.hoso.saveTagsChanged);\r\n  }\r\n  tagClearAll() {\r\n    this.hoso.tags = new Set();\r\n    this.saveChinhSua(this.hoso, CAIDAT.hoso.saveTagsChanged);\r\n  }\r\n  ngOnInit() {\r\n    if (this.router.getCurrentNavigation()!.extras.state) {\r\n      // console.log(this.router.getCurrentNavigation().extras.state)\r\n      this.hoso = this.router.getCurrentNavigation()!.extras!.state!['hoso']\r\n\r\n      // console.log(this.hoso)\r\n      // this.hoso.shared={fromShared: true}\r\n      this.updateColumnsWithExcel()\r\n    } else {\r\n      // Nếu không pass state thì chuyển nó về trang hồ sơ\r\n      this.router.navigate(['/t/ho-so'])\r\n    }\r\n  }\r\n\r\n  ionViewWillLeave() {\r\n    if (this.hoso.id) {\r\n      this.saveChinhSua(this.hoso, CAIDAT.hoso.savebutton)\r\n      this.loadinggetcolumns$.unsubscribe()\r\n    }\r\n\r\n  }\r\n  async shareHoso() {\r\n    // this.isSharing = true\r\n    // let resul = await this.gistService.shareHoSoGist(this.hoso)\r\n    // if (resul != false) {\r\n    //   if (this.hoso.shared) {\r\n    //     this.shareCopyLink()\r\n    //     this.saveChinhSua(this.hoso, CAIDAT.hoso.saveOnGist)\r\n    //   } else {\r\n    //     console.log(\"Lỗi\")\r\n    //   }\r\n    // } else {\r\n    //   this.toastController.presentToast({\r\n    //     message: `Bạn cần vào mục Cài đặt và cập nhật Github token để có thể chia sẻ.`,\r\n    //     duration: 1000,\r\n    //     color: \"danger\"\r\n    //   })\r\n    // }\r\n    // this.isSharing = false\r\n    // // console.log(typeof this.hoso)\r\n  }\r\n  async shareHuyConfirm() {\r\n    const alert = await this.alertController.create({\r\n      header: 'Hủy share!!!',\r\n      message: 'Khi bạn hủy chia sẻ, những người khác đang nhận chia sẻ của hồ sơ này bị mất cập nhật hoàn toàn, <br>Bạn THẬT SỰ muốn hủy chứ?',\r\n      buttons: [\r\n        {\r\n          text: 'Không'\r\n        }, {\r\n          text: 'Ok hủy đi',\r\n          handler: () => {\r\n            this.shareHuy()\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n\r\n  }\r\n  async shareCopyLink() {\r\n    navigator.clipboard.writeText(this.hoso.shared?.url)\r\n    this.toastController.presentToast({\r\n      message: `${this.hoso.shared?.url} copied!`,\r\n      duration: 700,\r\n      color: \"warning\"\r\n    })\r\n  }\r\n  async shareHuy() {\r\n    // // Xóa thông tin share và xóa gist\r\n    // await this.gistService.shareRemove(this.hoso).then(re => {\r\n    // })\r\n    // this.hoso.shared = undefined;\r\n    // this.saveChinhSua(this.hoso, CAIDAT.hoso.saveOnGist)\r\n  }\r\n  helper(type: string) {\r\n    //@ts-ignore\r\n    this.toastController.helper(_HELPER[type])\r\n  }\r\n  ionViewDidEnter() {\r\n    /* Create style element */\r\n    let css = document.createElement('style');\r\n    css.type = 'text/css';\r\n    let styles = `\r\n      *::-webkit-scrollbar {\r\n        width: 8px;\r\n    }\r\n    *::-webkit-scrollbar-track {\r\n        background-color: #e4e4e4;\r\n        border-radius: 100px;\r\n    }\r\n    *::-webkit-scrollbar-thumb {\r\n        background-color: #3880ff;\r\n        border-radius: 100px;\r\n    }\r\n    `;\r\n    css.appendChild(document.createTextNode(styles));\r\n\r\n    /* Append style to the head element */\r\n    document.getElementsByTagName(\"ion-textarea\")[0].appendChild(css);\r\n\r\n    document.getElementsByTagName(\"ion-row\")[0].appendChild(css);\r\n\r\n  }\r\n\r\n}\r\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.link {\n  color: #343452;\n  font-size: x-small;\n}\n\nion-item-divider {\n  background-color: var(--ion-color-primary);\n}\nion-item-divider ion-label {\n  color: white;\n}\n\n#file-input-loadLinkFromLocalFile {\n  display: none;\n}\n\n.button-clear {\n  --background: #0000002b;\n}\n\n.tablecolumns {\n  font-size: smaller;\n}\n\nion-input .label-text-wrapper {\n  font-size: medium;\n  text-transform: uppercase !important;\n}\n\nion-grid.table {\n  --ion-grid-column-padding: 4px;\n  border-collapse: collapse;\n  border-style: hidden;\n}\nion-grid.table ion-row:first-child {\n  background-color: #fff8d4;\n  font-weight: bold;\n}\nion-grid.table ion-col {\n  border: 1px solid black;\n  border-bottom: 0;\n  border-right: 0;\n}\nion-grid.table ion-col:last-child {\n  border-right: 1px solid black;\n}\nion-grid.table ion-row:last-child {\n  border-bottom: 1px solid black;\n}\nion-grid.table ion-input {\n  background-color: #f9f2ff;\n}\n\n.selected {\n  --color: red;\n}\n\nion-chip {\n  padding: 3px 6px;\n  font-size: 10px !important;\n  height: 20px;\n  margin: 5px 3px;\n}\nion-chip ion-icon {\n  height: 10px;\n  margin: 0px;\n}\nion-chip ion-label {\n  line-height: 14px;\n}\n\n.badgechiase {\n  position: relative;\n  right: -15px;\n}\n\n.linkggscomponent {\n  position: relative;\n}\n.linkggscomponent ion-button {\n  position: absolute;\n  right: 0px;\n  top: 15px;\n  z-index: 2;\n}\n.linkggscomponent ion-button::part(native) {\n  padding: 5px;\n  font-size: 10px;\n}\n\n@media screen and (prefers-color-scheme: dark) {\n  ion-grid.table ion-row:first-child {\n    background-color: rgba(255, 255, 255, 0.1098039216);\n  }\n  .link {\n    color: white;\n  }\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/ho-so-chi-tiet/ho-so-chi-tiet.page.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,cAAA;EACA,kBAAA;AACF;;AAEA;EACE,0CAAA;AACF;AACE;EACE,YAAA;AACJ;;AAEA;EACE,aAAA;AACF;;AACA;EACE,uBAAA;AAEF;;AACA;EACE,kBAAA;AAEF;;AACA;EACI,iBAAA;EACA,oCAAA;AAEJ;;AAEA;EACE,8BAAA;EACA,yBAAA;EACA,oBAAA;AACF;AACE;EACE,yBAAA;EACA,iBAAA;AACJ;AAEE;EACE,uBAAA;EACA,gBAAA;EACA,eAAA;AAAJ;AAGE;EACE,6BAAA;AADJ;AAIE;EACE,8BAAA;AAFJ;AAKE;EACE,yBAAA;AAHJ;;AAOA;EACE,YAAA;AAJF;;AAOA;EACE,gBAAA;EACA,0BAAA;EACA,YAAA;EACA,eAAA;AAJF;AAME;EACE,YAAA;EACA,WAAA;AAJJ;AAOE;EACE,iBAAA;AALJ;;AASA;EACE,kBAAA;EACA,YAAA;AANF;;AASA;EACE,kBAAA;AANF;AAQE;EACE,kBAAA;EACA,UAAA;EACA,SAAA;EACA,UAAA;AANJ;AASE;EACE,YAAA;EACA,eAAA;AAPJ;;AAWA;EAEI;IACE,mDAAA;EATJ;EAaA;IACE,YAAA;EAXF;AACF\",\"sourcesContent\":[\".link {\\r\\n  color: #343452;\\r\\n  font-size: x-small;\\r\\n}\\r\\n\\r\\nion-item-divider {\\r\\n  background-color: var(--ion-color-primary);\\r\\n\\r\\n  ion-label {\\r\\n    color: white;\\r\\n  }\\r\\n}\\r\\n#file-input-loadLinkFromLocalFile{\\r\\n  display: none;\\r\\n}\\r\\n.button-clear {\\r\\n  --background: #0000002b;\\r\\n}\\r\\n\\r\\n.tablecolumns {\\r\\n  font-size: smaller;\\r\\n}\\r\\n\\r\\nion-input .label-text-wrapper{\\r\\n    font-size: medium;\\r\\n    text-transform: uppercase !important;\\r\\n  \\r\\n}\\r\\n\\r\\nion-grid.table {\\r\\n  --ion-grid-column-padding: 4px;\\r\\n  border-collapse: collapse;\\r\\n  border-style: hidden;\\r\\n\\r\\n  ion-row:first-child {\\r\\n    background-color: #fff8d4;\\r\\n    font-weight: bold;\\r\\n  }\\r\\n\\r\\n  ion-col {\\r\\n    border: 1px solid black;\\r\\n    border-bottom: 0;\\r\\n    border-right: 0;\\r\\n  }\\r\\n\\r\\n  ion-col:last-child {\\r\\n    border-right: 1px solid black;\\r\\n  }\\r\\n\\r\\n  ion-row:last-child {\\r\\n    border-bottom: 1px solid black;\\r\\n  }\\r\\n\\r\\n  ion-input {\\r\\n    background-color: #f9f2ff;\\r\\n  }\\r\\n}\\r\\n\\r\\n.selected {\\r\\n  --color: red;\\r\\n}\\r\\n\\r\\nion-chip {\\r\\n  padding: 3px 6px;\\r\\n  font-size: 10px !important;\\r\\n  height: 20px;\\r\\n  margin: 5px 3px;\\r\\n\\r\\n  ion-icon {\\r\\n    height: 10px;\\r\\n    margin: 0px;\\r\\n  }\\r\\n\\r\\n  ion-label {\\r\\n    line-height: 14px;\\r\\n  }\\r\\n}\\r\\n\\r\\n.badgechiase {\\r\\n  position: relative;\\r\\n  right: -15px;\\r\\n}\\r\\n\\r\\n.linkggscomponent {\\r\\n  position: relative;\\r\\n\\r\\n  ion-button {\\r\\n    position: absolute;\\r\\n    right: 0px;\\r\\n    top: 15px;\\r\\n    z-index: 2;\\r\\n  }\\r\\n\\r\\n  ion-button::part(native) {\\r\\n    padding: 5px;\\r\\n    font-size: 10px;\\r\\n  }\\r\\n}\\r\\n\\r\\n@media screen and (prefers-color-scheme: dark) {\\r\\n  ion-grid.table {\\r\\n    ion-row:first-child {\\r\\n      background-color: #ffffff1c;\\r\\n    }\\r\\n  }\\r\\n\\r\\n  .link {\\r\\n    color: white\\r\\n  }\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["NgModule","RouterModule","HoSoChiTietPage","routes","path","component","HoSoChiTietPageRoutingModule","__decorate","imports","forChild","exports","CommonModule","FormsModule","IonicModule","HoSoChiTietPageModule","declarations","Component","Router","AlertController","CAIDAT","_HELPER","GetExcelDataService","HosoService","MenuTagsService","ToastService","_class","constructor","router","hososervice","getexcelservice","tagsservice","alertController","toastController","loadinggetcolumns","tagsList","Set","isSharing","caidatgoc","loadedLocalFile","loadedLocalFileArrayBuffer","ArrayBuffer","homepage","window","location","origin","loadinggetcolumns$","subscribe","re","mogooglesheet","link","open","loadLinkFromLocalFile","document","getElementById","click","loadLinkFromLocalFile_execute","_event","file","target","files","console","log","name","substr","length","hoso","linkFromLocalFile","arrayBuffer","then","getFileArrayBuffer","srcElement","value","presentToast","message","color","duration","saveChinhSua","source","_this","_asyncToGenerator","updateHoSo","savebutton","saveFromEditor","indexOf","saveAfterLoadColumns","updateColumnsWithExcel","_this2","isFromLocalFile","x","getExcelColumns","createAnkiForFile","createAnkiFile","openEditor","nvget","state","skipLocationChange","navigate","tagClick","tag","tags","has","_this$hoso$tags","delete","add","saveTagsChanged","tagClearAll","ngOnInit","getCurrentNavigation","extras","ionViewWillLeave","id","unsubscribe","shareHoso","shareHuyConfirm","_this3","alert","create","header","buttons","text","handler","shareHuy","present","shareCopyLink","_this4","_this4$hoso$shared","_this4$hoso$shared2","navigator","clipboard","writeText","shared","url","helper","type","ionViewDidEnter","css","createElement","styles","appendChild","createTextNode","getElementsByTagName","selector","template","__NG_CLI_RESOURCE__0"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}